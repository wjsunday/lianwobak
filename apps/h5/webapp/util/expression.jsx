let expressions  = {
  '[aini]':'/resources/theme/stv1/_static/image/expression/new/aini.png',
  '[aoman]':'/resources/theme/stv1/_static/image/expression/new/aoman.png',
  '[baiyan]':'/resources/theme/stv1/_static/image/expression/new/baiyan.png',
  '[baobao]':'/resources/theme/stv1/_static/image/expression/new/baobao.png',
  '[bishi]':'/resources/theme/stv1/_static/image/expression/new/bishi.png',
  '[bizui]':'/resources/theme/stv1/_static/image/expression/new/bizui.png',
  '[cahan]':'/resources/theme/stv1/_static/image/expression/new/cahan.png',
  '[chajing]':'/resources/theme/stv1/_static/image/expression/new/chajing.png',
  '[ciya]':'/resources/theme/stv1/_static/image/expression/new/ciya.png',
  '[dabian]':'/resources/theme/stv1/_static/image/expression/new/dabian.png',
  '[dabing]':'/resources/theme/stv1/_static/image/expression/new/dabing.png',
  '[daku]':'/resources/theme/stv1/_static/image/expression/new/daku.png',
  '[deyi]':'/resources/theme/stv1/_static/image/expression/new/deyi.png',
  '[fadai]':'/resources/theme/stv1/_static/image/expression/new/fadai.png',
  '[fanu]':'/resources/theme/stv1/_static/image/expression/new/fanu.png',
  '[fendou]':'/resources/theme/stv1/_static/image/expression/new/fendou.png',
  '[ganga]':'/resources/theme/stv1/_static/image/expression/new/ganga.png',
  '[gouyin]':'/resources/theme/stv1/_static/image/expression/new/gouyin.png',
  '[guzhang]':'/resources/theme/stv1/_static/image/expression/new/guzhang.png',
  '[haha]':'/resources/theme/stv1/_static/image/expression/new/haha.png',
  '[haixiu]':'/resources/theme/stv1/_static/image/expression/new/haixiu.png',
  '[haochi]':'/resources/theme/stv1/_static/image/expression/new/haochi.png',
  '[haqian]':'/resources/theme/stv1/_static/image/expression/new/haqian.png',
  '[huaixiao]':'/resources/theme/stv1/_static/image/expression/new/huaixiao.png',
  '[jingkong]':'/resources/theme/stv1/_static/image/expression/new/jingkong.png',
  '[jingya]':'/resources/theme/stv1/_static/image/expression/new/jingya.png',
  '[kafei]':'/resources/theme/stv1/_static/image/expression/new/kafei.png',
  '[keai]':'/resources/theme/stv1/_static/image/expression/new/keai.png',
  '[kelian]':'/resources/theme/stv1/_static/image/expression/new/kelian.png',
  '[ku]':'/resources/theme/stv1/_static/image/expression/new/ku.png',
  '[kuaikule]':'/resources/theme/stv1/_static/image/expression/new/kuaikule.png',
  '[kulou]':'/resources/theme/stv1/_static/image/expression/new/kulou.png',
  '[kun]':'/resources/theme/stv1/_static/image/expression/new/kun.png',
  '[lanqiu]':'/resources/theme/stv1/_static/image/expression/new/lanqiu.png',
  '[lenghan]':'/resources/theme/stv1/_static/image/expression/new/lenghan.png',
  '[liuhan]':'/resources/theme/stv1/_static/image/expression/new/liuhan.png',
  '[liulei]':'/resources/theme/stv1/_static/image/expression/new/liulei.png',
  '[ma]':'/resources/theme/stv1/_static/image/expression/new/ma.png',
  '[nanguo]':'/resources/theme/stv1/_static/image/expression/new/nanguo.png',
  '[no]':'/resources/theme/stv1/_static/image/expression/new/no.png',
  '[ok]':'/resources/theme/stv1/_static/image/expression/new/ok.png',
  '[peifu]':'/resources/theme/stv1/_static/image/expression/new/peifu.png',
  '[pingpang]':'/resources/theme/stv1/_static/image/expression/new/pingpang.png',
  '[pizui]':'/resources/theme/stv1/_static/image/expression/new/pizui.png',
  '[qiang]':'/resources/theme/stv1/_static/image/expression/new/qiang.png',
  '[qiaoda]':'/resources/theme/stv1/_static/image/expression/new/qiaoda.png',
  '[qinqin]':'/resources/theme/stv1/_static/image/expression/new/qinqin.png',
  '[qioudale]':'/resources/theme/stv1/_static/image/expression/new/qioudale.png',
  '[ruo]':'/resources/theme/stv1/_static/image/expression/new/ruo.png',
  '[se]':'/resources/theme/stv1/_static/image/expression/new/se.png',
  '[shuai]':'/resources/theme/stv1/_static/image/expression/new/shuai.png',
  '[shuijiao]':'/resources/theme/stv1/_static/image/expression/new/shuijiao.png',
  '[tiaopi]':'/resources/theme/stv1/_static/image/expression/new/tiaopi.png',
  '[touxiao]':'/resources/theme/stv1/_static/image/expression/new/touxiao.png',
  '[tu]':'/resources/theme/stv1/_static/image/expression/new/tu.png',
  '[wabi]':'/resources/theme/stv1/_static/image/expression/new/wabi.png',
  '[weiqu]':'/resources/theme/stv1/_static/image/expression/new/weiqu.png',
  '[weixiao]':'/resources/theme/stv1/_static/image/expression/new/weixiao.png',
  '[woquan]':'/resources/theme/stv1/_static/image/expression/new/woquan.png',
  '[woshou]':'/resources/theme/stv1/_static/image/expression/new/woshou.png',
  '[xia]':'/resources/theme/stv1/_static/image/expression/new/xia.png',
  '[xu]':'/resources/theme/stv1/_static/image/expression/new/xu.png',
  '[yeah]':'/resources/theme/stv1/_static/image/expression/new/yeah.png',
  '[yinxian]':'/resources/theme/stv1/_static/image/expression/new/yinxian.png',
  '[yiwen]':'/resources/theme/stv1/_static/image/expression/new/yiwen.png',
  '[youhengheng]':'/resources/theme/stv1/_static/image/expression/new/youhengheng.png',
  '[yueliang]':'/resources/theme/stv1/_static/image/expression/new/yueliang.png',
  '[yun]':'/resources/theme/stv1/_static/image/expression/new/yun.png',
  '[zaijian]':'/resources/theme/stv1/_static/image/expression/new/zaijian.png',
  '[zhemo]':'/resources/theme/stv1/_static/image/expression/new/zhemo.png',
  '[zhu]':'/resources/theme/stv1/_static/image/expression/new/zhu.png',
  '[zhuakuang]':'/resources/theme/stv1/_static/image/expression/new/zhuakuang.png',
  '[zuohengheng]':'/resources/theme/stv1/_static/image/expression/new/zuohengheng.png',
};

class Expression
{
  constructor(root) {
    this.root = root;
    for (let name in expressions) {
      expressions[name] = this.root + expressions[name];
    }
  }

  getAll() {
    return expressions;
  }

  getItem(name) {
    if (expressions.hasOwnProperty(name)) {
      return expressions[name];
    }
    return null;
  }

  buildDOM(content, callHandle, path) {
    if (typeof content.map == 'function') {
      let q = [];
      content.forEach((val, index) => {
        if (index > 0 && index < content.length && path) {
          q.push(callHandle(path));
        }
        q.push(this.buildDOM(val, callHandle));
      });
      return q;
    }

    if (typeof content == 'string') {
      for (let key in expressions) {
        var s = content.split(key);
        if (s.length > 1) {
          return this.buildDOM(s, callHandle, expressions[key]);
        }
        s = s[0];
      }
      return s;
    }

    return content;
  }

}

export default new Expression(TS.ROOT)